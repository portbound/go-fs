<!doctype html>
<head>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
  ></script>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"
  ></script>
</head>

<body class="p-8 bg-slate-700">
  <div x-html="navbarHtml"></div>
  <div
    x-data="{ 
      files: [], 
      showPopover: false, 
      selectedFile: {}, showFullscreenImage: false, fullscreenImageUrl: '', navbarHtml: '', fileGridHtml: '', popoverHtml: '', fullscreenImageModalHtml: '' }"
    x-init="
        fetch('/partials/_navbar.html').then(response => response.text()).then(html => navbarHtml = html);
        fetch('/partials/_file_grid.html').then(response => response.text()).then(html => fileGridHtml = html);
        fetch('/partials/_popover.html').then(response => response.text()).then(html => popoverHtml = html);
        fetch('/partials/_fullscreen_image_modal.html').then(response => response.text()).then(html => fullscreenImageModalHtml = html);
        fetch('/api/files')
            .then(response => response.json())
            .then(data => {
                files = data;
                console.log(data); 
            })
            .catch(error => {
                console.error('Error fetching data:', error);
                isLoading = false;
            });
        "
    class="grid"
  >
    <div x-html="navbarHtml"></div>

    <div x-html="fileGridHtml" class="grid grid-cols"></div>

    <div x-html="popoverHtml"></div>

    <div x-html="fullscreenImageModalHtml"></div>
  </div>
</body>

<x-html> </x-html>
